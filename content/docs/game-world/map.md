---
title: "Map"
weight: 1
# geekdocFlatSection: false
# geekdocToc: 6
# geekdocHidden: false
---

The map represents a procedurally generated island nation. Its geographic and geologic features (landmass, height map, rivers) and other features like vegetation, settlements, roads, and other human constructions are procedurally created.

## Map Data and Map View

The data structure of the map is separated from the visual representation of the map. The map is a two-dimensional grid and is visually represented by rectangular (four-sided) tiles. Each grid location (or tile) has additional data fields which determines the tile characteristics:

* **Height map**: Procedurally generated heightmap with landmasses (e.g. plains, sea, hills, mountains, … ). Height is in meters.
* **Temperature**: Average yearly temperature in degree Celsius procedurally generated by latitude and height from sea level. Maybe in future iterations temperature changes dynamically with seasons and weather.
* **Rainfall and Moisture**: Average moisture (soil water) procedurally generated by rainfall, sea and river presence. Maybe in future iterations moisture also changes dynamically with seasons and weather.
* **Fertility**: soil fertility is determined by average yearly temperature and soil water.
* **Grain and Grazing Yield Rates**: potential of tile to grow grains and grass. Depends on moisture, average temperature, and altitude.
* Terrain modifiers like rivers and forests. Rivers and forests are procedurally generated. Rivers are determined by the morphology of the height map and rainfall. Forests are determined by soil fertility.

## Classification and Visual Representation of Terrain Types

For gameplay purposes and visual representation the generated map data is classified into terrain types. These types are used for gameplay (e.g. where can you construct buildings and railways, where can you grow crops?) and for the visual representation of the tiles (which tile sprite is selected for a grid location).

* **Plains**: Plains is either cultivated land (meadows and fields) or forests. It is the cheapest terrain to build infrastructure (roads, railroads, canals).
* **Hills**: Hills represent foothills of mountain ranges or highlands. There are cultivated and wooded hills. It is expensive to build infrastructure in hills. Mills can be built only on hill tiles with streams.
* **Mountains**: These are mountain ranges without any cultivation possible. They may be wooded if below the tree line. It is nearly prohibitively expensive to build roads and railroads there (maybe only allow this at special mountain passes). No canals can be built on mountain tiles.
* **Sea**: The sea is only navigable by sea-going ships.

## Terrain Modifiers

### Links

These are terrain modifiers which link two tiles/nodes. See the [Transport System](docs/transport-system/) for details:

* **Rivers**: Rivers are navigable by boats. In hills mills can be built on streams. See [River Generation](docs/game-world/map-generation/) for details.
* **Canals**: Canals enable transport of goods by boat. They can be built to create a navigable link between two tiles.
* **Roads**: Roads enable transport of goods by ox-wagon.
* **Railways**: Railways enables transport of goods by train.

### Other Terrain Modifiers

They are applied on the tile/node directly:

* **Forests**: Forest growth is determined by temperature and soil water bands. In the first iteration of the game yearly average temperature is only determined by height from sea level (alpine tree line at 2000 m ingame). The band of soil water percentage for trees to grow ranges between 10% (permanent wilting point) and 40% (fully saturated soil). The values are simplified for gameplay purposes.

## Implementation Details

The map data of tiles are stored in instances of the MapTile class. There is one MapTile instance for each grid location. The data is not fixed into discrete sets of values per tile type of the visual representation. I.e. not all tiles with a visual representation of “Mountain” have a height value of 1000 meters and an average yearly temperature of 10 C°. The map data is specific to each individual tile.
